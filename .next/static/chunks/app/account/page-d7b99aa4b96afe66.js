(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{8506:function(e,s,t){Promise.resolve().then(t.bind(t,6135))},6135:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return AccountPage}});var a=t(7821),r=t(8078),l=t(6179),n=t(1910),i=t(4048);function AccountPage(){let[e,s]=(0,r.useState)("profile"),[t,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0),[m,x]=(0,r.useState)(!1),u=(0,l.useRouter)(),[h,g]=(0,r.useState)({full_name:"",email:"",phone:"",bio:"",avatar_url:""}),[b,f]=(0,r.useState)({current:"",new:"",confirm:""}),[p,y]=(0,r.useState)({email_course_updates:!0,email_promotions:!1,email_newsletter:!0,push_course_reminders:!0,push_achievements:!0});(0,r.useEffect)(()=>{checkUser()},[]);let checkUser=async()=>{let{data:{user:e}}=await n.O.auth.getUser();e?(c(e),g(s=>({...s,email:e.email||""})),loadProfile(e.id)):u.push("/login"),o(!1)},loadProfile=async e=>{g(e=>({...e,full_name:"홍길동",phone:"010-1234-5678",bio:"AI와 머신러닝을 공부하는 개발자입니다."}))},handleProfileUpdate=async e=>{e.preventDefault(),x(!0);try{alert("프로필이 업데이트되었습니다.")}catch(e){alert("프로필 업데이트 중 오류가 발생했습니다.")}finally{x(!1)}},handlePasswordChange=async e=>{if(e.preventDefault(),b.new!==b.confirm){alert("새 비밀번호가 일치하지 않습니다.");return}if(b.new.length<6){alert("비밀번호는 최소 6자 이상이어야 합니다.");return}x(!0);try{let{error:e}=await n.O.auth.updateUser({password:b.new});if(e)throw e;alert("비밀번호가 변경되었습니다."),f({current:"",new:"",confirm:""})}catch(e){alert(e.message||"비밀번호 변경 중 오류가 발생했습니다.")}finally{x(!1)}},handleNotificationUpdate=async()=>{x(!0);try{alert("알림 설정이 저장되었습니다.")}catch(e){alert("알림 설정 저장 중 오류가 발생했습니다.")}finally{x(!1)}};return d?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"로딩 중..."})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("div",{className:"pt-20 pb-10",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"계정 설정"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("nav",{className:"space-y-1",children:[(0,a.jsx)("button",{onClick:()=>s("profile"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat("profile"===e?"bg-emerald-50 text-emerald-700 font-medium":"text-gray-700 hover:bg-gray-100"),children:"프로필"}),(0,a.jsx)("button",{onClick:()=>s("security"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat("security"===e?"bg-emerald-50 text-emerald-700 font-medium":"text-gray-700 hover:bg-gray-100"),children:"보안"}),(0,a.jsx)("button",{onClick:()=>s("notifications"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat("notifications"===e?"bg-emerald-50 text-emerald-700 font-medium":"text-gray-700 hover:bg-gray-100"),children:"알림 설정"}),(0,a.jsx)("button",{onClick:()=>s("connected"),className:"w-full text-left px-3 py-2 rounded-lg transition-colors ".concat("connected"===e?"bg-emerald-50 text-emerald-700 font-medium":"text-gray-700 hover:bg-gray-100"),children:"연동 계정"})]})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:["profile"===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"프로필 정보"}),(0,a.jsxs)("form",{onSubmit:handleProfileUpdate,children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"프로필 사진"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gray-200 rounded-full mr-4"}),(0,a.jsx)("button",{type:"button",className:"bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"사진 변경"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"이름"}),(0,a.jsx)("input",{type:"text",id:"full_name",value:h.full_name,onChange:e=>g({...h,full_name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일"}),(0,a.jsx)("input",{type:"email",id:"email",value:h.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"전화번호"}),(0,a.jsx)("input",{type:"tel",id:"phone",value:h.phone,onChange:e=>g({...h,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2",children:"자기소개"}),(0,a.jsx)("textarea",{id:"bio",rows:4,value:h.bio,onChange:e=>g({...h,bio:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{type:"submit",disabled:m,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",children:m?"저장 중...":"변경사항 저장"})})]})]}),"security"===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"보안 설정"}),(0,a.jsxs)("form",{onSubmit:handlePasswordChange,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"현재 비밀번호"}),(0,a.jsx)("input",{type:"password",id:"current_password",value:b.current,onChange:e=>f({...b,current:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"새 비밀번호"}),(0,a.jsx)("input",{type:"password",id:"new_password",value:b.new,onChange:e=>f({...b,new:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 확인"}),(0,a.jsx)("input",{type:"password",id:"confirm_password",value:b.confirm,onChange:e=>f({...b,confirm:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{type:"submit",disabled:m,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",children:m?"변경 중...":"비밀번호 변경"})})]}),(0,a.jsxs)("div",{className:"mt-8 pt-8 border-t",children:[(0,a.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"2단계 인증"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"계정 보안을 강화하기 위해 2단계 인증을 설정하세요."}),(0,a.jsx)("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors",children:"2단계 인증 설정"})]})]}),"notifications"===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"알림 설정"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"이메일 알림"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:p.email_course_updates,onChange:e=>y({...p,email_course_updates:e.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,a.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"강의 업데이트 알림"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:p.email_promotions,onChange:e=>y({...p,email_promotions:e.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,a.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"프로모션 및 할인 정보"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:p.email_newsletter,onChange:e=>y({...p,email_newsletter:e.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,a.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"뉴스레터"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"푸시 알림"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:p.push_course_reminders,onChange:e=>y({...p,push_course_reminders:e.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,a.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"학습 리마인더"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:p.push_achievements,onChange:e=>y({...p,push_achievements:e.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),(0,a.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"성취 및 뱃지 획득"})]})]})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{onClick:handleNotificationUpdate,disabled:m,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",children:m?"저장 중...":"설정 저장"})})]}),"connected"===e&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"연동 계정"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"G"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Google"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"연동되지 않음"})]})]}),(0,a.jsx)("button",{className:"text-emerald-600 hover:text-emerald-700 font-medium text-sm",children:"연동하기"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"GH"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"GitHub"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"연동되지 않음"})]})]}),(0,a.jsx)("button",{className:"text-emerald-600 hover:text-emerald-700 font-medium text-sm",children:"연동하기"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"K"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Kakao"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"연동되지 않음"})]})]}),(0,a.jsx)("button",{className:"text-emerald-600 hover:text-emerald-700 font-medium text-sm",children:"연동하기"})]})]})]})]})})]})]})})]})}},4048:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Header}});var a=t(7821),r=t(6871),l=t.n(r),n=t(8078),i=t(1910),c=t(6179);function Header(){let[e,s]=(0,n.useState)(null),t=(0,c.useRouter)();(0,n.useEffect)(()=>{let checkUser=async()=>{let{data:{user:e}}=await i.O.auth.getUser();s(e)};checkUser();let{data:{subscription:e}}=i.O.auth.onAuthStateChange((e,t)=>{var a;s(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null)});return()=>e.unsubscribe()},[]);let handleLogout=async()=>{await i.O.auth.signOut(),t.push("/")};return(0,a.jsx)("nav",{className:"fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(l(),{href:"/",children:(0,a.jsx)("img",{src:"/logo7.png",alt:"SKOOL",className:"h-14 w-auto cursor-pointer"})})}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{href:"/dashboard",className:"text-gray-600 hover:text-navy-900 px-3 py-2 text-sm font-medium",children:"나의 강의실"}),(0,a.jsx)("button",{onClick:handleLogout,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"로그아웃"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{href:"/login",className:"text-gray-600 hover:text-navy-900 px-3 py-2 text-sm font-medium",children:"로그인"}),(0,a.jsx)(l(),{href:"/login",className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"시작하기"})]})})]})})})}},1910:function(e,s,t){"use strict";t.d(s,{O:function(){return n}});var a=t(4744);let r="https://pgtsxojnziyfkgghzmib.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBndHN4b2pueml5ZmtnZ2h6bWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0MDEwMjMsImV4cCI6MjA2NTk3NzAyM30.BP9rHr3lfNhMCYPLulyj3ia2z8Q9sbsc1xqS1mjVJ8g",n=r&&l?(0,a.eI)(r,l):null},6179:function(e,s,t){e.exports=t(5353)}},function(e){e.O(0,[144,871,115,835,744],function(){return e(e.s=8506)}),_N_E=e.O()}]);