(()=>{var e={};e.id=261,e.ids=[261],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},4259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>u});var s=r(6577),a=r(5533),n=r(443),o=r.n(n),l=r(3320),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let u=["",{children:["admin",{children:["news",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9924)),"/home/mustard-3/Documents/code/skool/frontend/app/admin/news/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1150)),"/home/mustard-3/Documents/code/skool/frontend/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5818)),"/home/mustard-3/Documents/code/skool/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1459,23)),"next/dist/client/components/not-found-error"]}],d=["/home/mustard-3/Documents/code/skool/frontend/app/admin/news/new/page.tsx"],c="/admin/news/new/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/news/new/page",pathname:"/admin/news/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},3841:(e,t,r)=>{Promise.resolve().then(r.bind(r,3553))},3553:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>NewNews});var s=r(2406),a=r(404),n=r(6460),o=r(5434);function NewNews(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)({title:"",slug:"",summary:"",content:"",imageUrl:"",published:!1}),handleSubmit=async t=>{t.preventDefault(),r(!0);try{let t=(await o.O.auth.getSession()).data.session?.access_token,r=await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/news`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({...l,publishedAt:l.published?new Date().toISOString():null})});r.ok?e.push("/admin/news"):alert("뉴스 작성에 실패했습니다.")}catch(e){console.error("Error creating news:",e),alert("뉴스 작성 중 오류가 발생했습니다.")}finally{r(!1)}},generateSlug=e=>e.toLowerCase().replace(/[^a-z0-9가-힣]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"새 뉴스 작성"}),(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300 mb-2",children:"제목"}),s.jsx("input",{type:"text",id:"title",value:l.title,onChange:e=>{i({...l,title:e.target.value,slug:generateSlug(e.target.value)})},className:"w-full px-4 py-2 bg-gray-900 border border-gray-800 rounded-lg text-white focus:outline-none focus:border-emerald-500",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-300 mb-2",children:"URL 슬러그"}),s.jsx("input",{type:"text",id:"slug",value:l.slug,onChange:e=>i({...l,slug:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-800 rounded-lg text-white focus:outline-none focus:border-emerald-500",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"summary",className:"block text-sm font-medium text-gray-300 mb-2",children:"요약"}),s.jsx("textarea",{id:"summary",value:l.summary,onChange:e=>i({...l,summary:e.target.value}),rows:3,className:"w-full px-4 py-2 bg-gray-900 border border-gray-800 rounded-lg text-white focus:outline-none focus:border-emerald-500",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-300 mb-2",children:"내용"}),s.jsx("textarea",{id:"content",value:l.content,onChange:e=>i({...l,content:e.target.value}),rows:10,className:"w-full px-4 py-2 bg-gray-900 border border-gray-800 rounded-lg text-white focus:outline-none focus:border-emerald-500",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-300 mb-2",children:"이미지 URL (선택사항)"}),s.jsx("input",{type:"url",id:"imageUrl",value:l.imageUrl,onChange:e=>i({...l,imageUrl:e.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-800 rounded-lg text-white focus:outline-none focus:border-emerald-500"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"published",checked:l.published,onChange:e=>i({...l,published:e.target.checked}),className:"w-4 h-4 text-emerald-600 bg-gray-900 border-gray-800 rounded focus:ring-emerald-500"}),s.jsx("label",{htmlFor:"published",className:"ml-2 text-sm text-gray-300",children:"즉시 게시"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("button",{type:"submit",disabled:t,className:"bg-emerald-500 hover:bg-emerald-600 text-black px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",children:t?"저장 중...":"저장"}),s.jsx("button",{type:"button",onClick:()=>e.push("/admin/news"),className:"bg-gray-800 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"취소"})]})]})]})}},9924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var s=r(9894);let a=(0,s.createProxy)(String.raw`/home/mustard-3/Documents/code/skool/frontend/app/admin/news/new/page.tsx`),{__esModule:n,$$typeof:o}=a,l=a.default,i=l}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[222,343,905,636,956],()=>__webpack_exec__(4259));module.exports=r})();