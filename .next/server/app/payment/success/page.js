(()=>{var e={};e.id=478,e.ids=[478],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9724:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>o});var r=t(6577),a=t(5533),n=t(443),i=t.n(n),c=t(3320),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);t.d(s,l);let o=["",{children:["payment",{children:["success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2509)),"/home/mustard-3/Documents/code/skool/frontend/app/payment/success/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5818)),"/home/mustard-3/Documents/code/skool/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1459,23)),"next/dist/client/components/not-found-error"]}],d=["/home/mustard-3/Documents/code/skool/frontend/app/payment/success/page.tsx"],x="/payment/success/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/payment/success/page",pathname:"/payment/success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8265:(e,s,t)=>{Promise.resolve().then(t.bind(t,9181))},9181:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>PaymentSuccessPage});var r=t(2406),a=t(404),n=t(6460),i=t(1264),c=t(5731),l=t.n(c),o=t(2646);function PaymentSuccessPage(){let e=(0,n.useSearchParams)();(0,n.useRouter)();let[s,t]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),u=e.get("orderId");(0,a.useEffect)(()=>{u?verifyPayment():(m("주문번호가 없습니다."),t(!1))},[u]);let verifyPayment=async()=>{try{let e=await (0,o.WW)(u);e.success?d(e.data):m(e.message||"결제 확인에 실패했습니다.")}catch(e){console.error("결제 확인 오류:",e),m("결제 상태 확인 중 오류가 발생했습니다.")}finally{t(!1)}};return s?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(i.default,{}),r.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"결제 확인 중..."})]})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(i.default,{}),r.jsx("div",{className:"pt-20 pb-12",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:x?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"결제 확인 실패"}),r.jsx("p",{className:"text-gray-600 mb-6",children:x}),(0,r.jsxs)("div",{className:"space-x-4",children:[r.jsx(l(),{href:"/courses",className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"강의 목록으로"}),r.jsx(l(),{href:"/dashboard",className:"inline-flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-md transition-colors",children:"대시보드로"})]})]}):(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-emerald-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"결제가 완료되었습니다!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"강의 수강이 정상적으로 등록되었습니다."}),c&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 text-left",children:[r.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"결제 정보"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"주문번호:"}),r.jsx("span",{className:"font-medium",children:u})]}),c.courseName&&(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"강의명:"}),r.jsx("span",{className:"font-medium",children:c.courseName})]}),c.amount&&(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"결제금액:"}),(0,r.jsxs)("span",{className:"font-medium",children:["₩",c.amount.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"결제일시:"}),r.jsx("span",{className:"font-medium",children:new Date().toLocaleString()})]})]})]}),(0,r.jsxs)("div",{className:"space-x-4",children:[r.jsx(l(),{href:"/dashboard",className:"inline-flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-md transition-colors",children:"내 강의 보기"}),r.jsx(l(),{href:"/courses",className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md transition-colors",children:"다른 강의 보기"})]})]})})})]})}},2509:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=t(9894);let a=(0,r.createProxy)(String.raw`/home/mustard-3/Documents/code/skool/frontend/app/payment/success/page.tsx`),{__esModule:n,$$typeof:i}=a,c=a.default,l=c}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[222,343,905,636,612,646],()=>__webpack_exec__(9724));module.exports=t})();